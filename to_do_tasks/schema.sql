BEGIN TRANSACTION;
DROP TABLE IF EXISTS "taskslist";
CREATE TABLE IF NOT EXISTS "taskslist" (
	"id"	INTEGER ,
	"name"	TEXT NOT NULL ,
    "last_updated"	TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	"created_at"	TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	PRIMARY KEY("id" AUTOINCREMENT)
);

DROP TABLE IF EXISTS "tasks";
CREATE TABLE IF NOT EXISTS "tasks" (
	"id"	INTEGER,
	"name"	TEXT NOT NULL UNIQUE,
	"last_updated"	TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	"created_at"	TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	"status"	TEXT,
	"priority"	TEXT,
    "description" TEXT,
	"taskslist_id"	INTEGER NOT NULL,
	FOREIGN KEY("taskslist_id") REFERENCES "taskslist"("id"),
	PRIMARY KEY("id" AUTOINCREMENT)
);


DROP TABLE IF EXISTS "users";
CREATE TABLE IF NOT EXISTS "users" (
	"id"	INTEGER,
	"username"	TEXT NOT NULL UNIQUE,
	"password" password NOT NULL,
	"firstname" TEXT NOT NULL,
	"lastname" TEXT NOT NULL,
	PRIMARY KEY("id" AUTOINCREMENT)
);

INSERT INTO "taskslist" VALUES (1,"Python list","2012-04-23 18:25:43.511000","2012-04-23 18:25:43.511000");
INSERT INTO "taskslist" VALUES (2,"Home list","2012-04-23 18:25:43.511000","2012-04-23 18:25:43.511000");

INSERT INTO "tasks" VALUES (1,"learn flask blueprints","2012-04-23 18:25:43.511000","2012-04-23 18:25:43.511000","Done","Medium","",1);
INSERT INTO "tasks" VALUES (2,"learn Python enums","2012-04-23 18:25:43.511000","2012-04-23 18:25:43.511000","In progress","High","",1);
INSERT INTO "tasks" VALUES (3,"revise OOP concepts","2012-04-23 18:25:43.511000","2012-04-23 18:25:43.511000","Done","Low","",1);
INSERT INTO "tasks" VALUES (4,"clean keyboard","2012-04-23 18:25:43.511000","2012-04-23 18:25:43.511000","New","High","",2);
INSERT INTO "tasks" VALUES (5,"water plants","2012-04-23 18:25:43.511000","2012-04-23 18:25:43.511000","Done","Medium","",2);

COMMIT;